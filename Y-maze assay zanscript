INCLUDE ZSYS

SET(THERMOSTAT,24) #TEMPERATURE IN DEGREES CENTIGRADE

DEFINE X_LOGDATA_TRACKS 799 #ENSURES THE TRACK DATA IS ‘LOGGED’ AND SAVED
DEFINE X_DRAWTRACKS 30011 #SETTING TO ALLOW FOR THE TRACK DRAWING TP BE DISPLAYED. WORKS IN CORRESPONDENCE WITH SET(X,DRAWTRACKS,1) IN THE ACTION MAIN BELOW.

DEFINE PRETRIAL_TIME 10 #THE TIME IN SECONDS BEFORE THE DATA IS LOGGED
DEFINE RUN_TIME 3600 #THE TIME IN SECONDS THAT THE PROGRAMME WILL RUN FOR

SET(TARGET_SIZE,4) #THE SIZE OF THE ANIMAL IN MM (FOR TADPOLES, THE GUT SIZE OR HEAD IS MOST RECOGNISED)
SET(DETECTOR_THRESHOLD,6) #THE MAXIMUM SIZE IN MM THAT WILL BE RECOGNISED

#SET(DETECTOR_THRESHOLD,6)
#SET(SEARCH_DISTANCE,50)
#SET(SEARCH_STEP,7)
#SET(FILTER_RADIUS,10)

SET(AUTOREF_MODE,1) #TURNS ON AUTOREFERENCE, WHICH REFERERS TO A ‘CLEAN’ IMAGE OF THE ARENA FOR OPTIMAL TRACKING
SET(AUTOREF_TIMEOUT,10) #SETS THE MAXIMUM AMOUNT OF TIME FOR THE AUTOREFERENCE PROCEEDURE

DEFINE MARKER_CUSTOM 6 #TRACKING WILL APPEAR AS A TRACE AND A ‘CROSS’ ON THE TARGET.
SET(MARKER_TYPE,MARKER_CUSTOM) #MARKER IS DEFAULT TO TURN OFF: TARGETMARKER(0,0,0)
TARGETMARKER(20,4,0) #THE FIRST NUMBER IS THE RADIUS SIZE IN MM, THE SECOND IS THE LENGTH OF THE PIP MARKS (LINES ON THE EDGE OF THE TARGET), THE LAST NUMBER CHANGES THE DIRECTION THE PIPS FACE (1=OUTSIDE, 0=INSIDE)

ACTION MAIN

	INVOKE(LIGHTS_OFF) #TO TURN ON, CHANGE ACTION LIGHTS_OFF BELOW

	WAIT(PRETRIAL_TIME)

	LOAD(ARENAS,"a_8x2ymaze_in_LT.bmp") #THIS CAN BE CHANGED TO ANY DOWNLOADED ARENA THAT IS SAVED IN THE ASSETS DIRECTORY
	LOAD(DETECTORS,"z_8x2ymaze_in_LT.bmp") #LOADS THE SET ‘ZONES’ OF THE Y-MAZE TO ALLOW DETECTION OF ZONE CHANGES.
	LOAD(ZONECHANGES,"on") #TURNS ON LOGGING WHEN AN ANIMAL LEAVES ONE ZONE AND THE ZONE IT CHANGES TO 
	AUTOREFERENCE() #REFERS TO THE IMAGE OF THE ARENA WITHOUT THE ORGANISM IN IT. THE REFERENCE IMAGE IS STORED AS A CLEAN BACKGROUND
    
SET(X_DRAWTRACKS,1) #TURNS ON THE ON-SCREEN TRACKING TRACE

VIDEO(RUN_TIME,"xenopus_ymaze") #NAMES THE VIDEO
WAIT(RUN_TIME)

COMPLETE

ACTION LIGHTS_OFF

SET(GPO6,0) #CHANGE TO (GP06,1) TO TURN ON. GP06 CONTROLS RED LIGHT
SET(GPO7,0) #CHANGE TO (GP07,1) TO TURN ON. GP07 CONTROLS GREEN LIGHT
SET(GPO8,0) #CHANGE TO (GP08,1) TO TURN ON. GP08 CONTROLS BLUE LIGHT

COMPLETE
